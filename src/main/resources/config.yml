# ========================================
# GIFT SETTINGS
# ========================================
gift:
  expiration_time: 60
  whitelisted_worlds:
    - "world"
    - "limbo"

  fireworks:
    enabled: true
    power: 1
    worlds:
      - "world"
      - - "limbo"

# ========================================
# ECONOMY SETTINGS
# ========================================
economy:
  # INTERNAL, PLACEHOLDER, COMMAND, PLACEHOLDER+COMMAND
  type: "PLACEHOLDER+COMMAND"
  currency-name: "Gold"
  balance-placeholder: "%farepixel_gold%"
  withdraw-command: "gold take %player% %amount%"
  deposit-command: "gold give %player% %amount%"

# ========================================
# DATABASE SETTINGS
# ========================================
database:
  type: "file" # file, sqlite, mysql
  mysql:
    host: "localhost"
    port: 3306
    database: "rankgift"
    username: "root"
    password: "password"
  sqlite:
    file: "rankgift.db"

# ========================================
# RANK DEFINITIONS
# commands are executed as CONSOLE on accept
# placeholders: %sender%, %target%, %duration%
# ========================================
ranks:
  vip:
    display-name: "&aVIP"
    commands:
      - "lp user %target% parent add vip"
  vipplus:
    display-name: "&aVIP&6+"
    commands:
      - "lp user %target% parent add vip+"
  mvp:
    display-name: "&bMVP"
    commands:
      - "lp user %target% parent add mvp"
  mvpplus:
    display-name: "&bMVP&c+"
    commands:
      - "lp user %target% parent add mvp+"
  mvpplusplus:
    display-name: "&6MVP&c++"
    commands:
      - "lp user %target% parent addtemp mvp++ %duration%"

# ========================================
# MESSAGES
# ========================================
messages:
  errors:
    only_players: "&cOnly players can use this."
    no_target: "&cPlayer not found."
    cannot_gift_self: "&cYou cannot gift yourself!"
    not_allowed_world: "&cYou can't use RankGift in this world."
    no_pending_gift: "&cYou have no pending gifts."
    gift_expired: "&cThat gift has expired."
    not_enough_currency: "&cYou don't have enough {currency}."
  success:
    gift_sent: "&aGift sent to {target_name}! Please confirm in the menu."
    gift_received: "&a{sender_name} gifted you {rank_display}&a! Type &e/giftaccept &aor &e/giftdeny&a."
    gift_accepted: "&aGift accepted!"
    gift_denied: "&cGift denied."
    reload: "&aReloaded."
  gui:
    confirm_title: "&8Confirm Gift"
    confirm_lore:
      - "&7Gift: {rank_display}"
      - "&7Cost: &e{cost} {currency}"
      - ""
      - "&eClick to confirm"

# ========================================
# GUIS
# Materials are 1.8.8-safe. PLAYER_HEAD is also accepted and auto-mapped.
# Actions: open_gui, select_rank, confirm_accept, confirm_deny, run_command, close, none
# ========================================
guis:
  main:
    title: "&8Send a Gift"
    size: 27
    items:
      present:
        slot: 13
        material: SKULL_ITEM
        data: 3
        # custom base64 head texture (optional). leave empty to use skull owner below.
        texture: ""
        skull: "MHF_Question" # fallback owner
        display-name: "&aGift a Rank"
        lore:
          - "&7Send a rank gift to &b{target_name}&7."
          - ""
          - "&eClick to continue"
        action: open_gui
        opens: rank_select
      close:
        slot: 26
        material: BARRIER
        display-name: "&cClose"
        action: close

  rank_select:
    title: "&8Select a Gift"
    size: 54
    items:
      player_head:
        slot: 13
        material: SKULL_ITEM
        data: 3
        skull: "{target_name}"
        display-name: "&b{target_name}"
        lore:
          - "&7You are gifting to this player."
        action: none

      vip:
        slot: 27
        material: EMERALD
        display-name: "&aVIP"
        lore:
          - "&7Cost: &e{cost} {currency}"
        action: select_rank
        rank: vip
        cost: 100

      vipplus:
        slot: 29
        material: EMERALD
        display-name: "&aVIP&6+"
        lore:
          - "&7Cost: &e{cost} {currency}"
        action: select_rank
        rank: vipplus
        cost: 200
        enchanted: true

      mvp:
        slot: 31
        material: DIAMOND
        display-name: "&bMVP"
        lore:
          - "&7Cost: &e{cost} {currency}"
        action: select_rank
        rank: mvp
        cost: 300

      mvpplus:
        slot: 33
        material: DIAMOND
        display-name: "&bMVP&c+"
        lore:
          - "&7Cost: &e{cost} {currency}"
        action: select_rank
        rank: mvpplus
        cost: 400
        enchanted: true

      mvpplusplus:
        slot: 35
        material: GOLD_INGOT
        display-name: "&6MVP&c++"
        lore:
          - "&eClick to choose duration"
        action: open_gui
        opens: mvpplusplus_durations

      back:
        slot: 48
        material: ARROW
        display-name: "&aGo Back"
        action: open_gui
        opens: main

      close:
        slot: 49
        material: BARRIER
        display-name: "&cClose"
        action: close

      currency:
        slot: 53
        material: GOLD_NUGGET
        display-name: "&e{currency}: &6{balance}"
        lore:
          - "&7Click for wallet command"
        action: run_command
        as: PLAYER
        commands:
          - "gold check"

  mvpplusplus_durations:
    title: "&8MVP++ Durations"
    size: 54
    items:
      player_head:
        slot: 13
        material: SKULL_ITEM
        data: 3
        skull: "{target_name}"
        display-name: "&b{target_name}"
        lore:
          - "&7You are gifting to this player."
        action: none

      one_month:
        slot: 28
        material: GOLD_INGOT
        enchanted: true
        display-name: "&61 Month MVP++"
        lore:
          - "&7Cost: &e{cost} {currency}"
        action: select_rank
        rank: mvpplusplus
        cost: 500
        duration: 30d

      six_months:
        slot: 31
        material: GOLD_INGOT
        enchanted: true
        display-name: "&66 Months MVP++"
        lore:
          - "&7Cost: &e{cost} {currency}"
        action: select_rank
        rank: mvpplusplus
        cost: 2500
        duration: 180d

      one_year:
        slot: 34
        material: GOLD_INGOT
        enchanted: true
        display-name: "&61 Year MVP++"
        lore:
          - "&7Cost: &e{cost} {currency}"
        action: select_rank
        rank: mvpplusplus
        cost: 5000
        duration: 1y

      back:
        slot: 48
        material: ARROW
        display-name: "&aGo Back"
        action: open_gui
        opens: rank_select
      close:
        slot: 49
        material: BARRIER
        display-name: "&cClose"
        action: close

      currency:
        slot: 53
        material: GOLD_NUGGET
        display-name: "&e{currency}: &6{balance}"
        action: run_command
        as: PLAYER
        commands:
          - "gold check"

  confirm:
    title: "&8Confirm Gift"
    size: 27
    items:
      info:
        slot: 13
        material: PAPER
        display-name: "&aConfirm"
        lore:
          - "&7Rank: {rank_display}"
          - "&7Cost: &e{cost} {currency}"
          - ""
          - "&eClick green to confirm"
        action: none
      accept:
        slot: 11
        material: STAINED_CLAY
        data: 13
        display-name: "&aConfirm"
        action: confirm_accept
      deny:
        slot: 15
        material: STAINED_CLAY
        data: 14
        display-name: "&cCancel"
        action: confirm_deny
