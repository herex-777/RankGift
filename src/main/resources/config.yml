# ========================================
# GIFT SETTINGS
# ========================================
gift:
  expiration_time: 180
  whitelisted_worlds:
    - "world"

  # If enabled, the receiver gets a clickable book GUI to accept/deny the gift.
  # The clicks will run /giftaccept or /giftdeny.
  bookgui:
    enabled: false
    title: "&8Gift Request"
    author: "RankGift"

  fireworks:
    enabled: true
    power: 2
    worlds:
      - "world"

# ========================================
# ECONOMY SETTINGS
# ========================================
economy:
  # INTERNAL, PLACEHOLDER, COMMAND, PLACEHOLDER+COMMAND
  type: "PLACEHOLDER+COMMAND"
  currency-name: "Gold"
  balance-placeholder: "%farepixel_gold%"
  withdraw-command: "gold take %player% %amount%"
  deposit-command: "gold give %player% %amount%"

# ========================================
# DATABASE SETTINGS
# ========================================
database:
  type: "sqlite" # sqlite, mysql, file
  mysql:
    host: "localhost"
    port: 3306
    database: "rankgift"
    username: "root"
    password: "password"
  sqlite:
    file: "rankgift.db"

# ========================================
# RANK DEFINITIONS
# commands are executed as CONSOLE on accept
# placeholders: %sender%, %target%, %duration%
# ========================================
ranks:
  vip:
    display-name: "&aVIP"
    commands:
      - "lp user %target% parent add vip"
  vipplus:
    display-name: "&aVIP&6+"
    commands:
      - "lp user %target% parent add vip+"
  mvp:
    display-name: "&bMVP"
    commands:
      - "lp user %target% parent add mvp"
  mvpplus:
    display-name: "&bMVP&c+"
    commands:
      - "lp user %target% parent add mvp+"
  mvpplusplus:
    display-name: "&6MVP&c++"
    commands:
      - "lp user %target% parent addtemp mvp++ %duration%"

# ========================================
# MESSAGES
# ========================================
messages:
  errors:
    only_players: "&cOnly players can use this."
    no_target: "&cPlayer not found."
    cannot_gift_self: "&cYou cannot gift yourself!"
    not_allowed_world: "&cYou can only use Gift in this lobbies."
    no_pending_gift: "&cYou have no pending gifts."
    gift_expired: "&cThat gift has expired."
    not_enough_currency: "&cNot enough Gold in your wallet!"

  # Gift response messages
  gift_response:
    denied_sender: "&c{target_prefix}{target_name} has chosen to deny your gift of {rank_display}&c!"
    denied_target: "&cYou have denied the gift from {sender_prefix}{sender_name}&c."
    waiting: "&aGift sent! Waiting for {target_prefix}{target_name} &ato respond..."

  success:
    gift_sent: "&aYou have sent a gift to {target_prefix}{target_name}&a!"
    gift_received: "&a{sender_prefix}{sender_name} &ahas gifted you the {rank_display}&a! &7(Type &e/giftaccept &7or &e/giftdeny&7)"
    # Shown to the receiver after they ACCEPT (matches the screenshot style)
    gift_received_final: ""
    gift_accepted: "&aYou have accepted the gift!"
    gift_accepted_sender: "&a{target_prefix}{target_name} &ahas accepted your gift of {rank_display}&a!"
    gift_denied: "&cYou have denied the gift."
    reload: "&aReloaded."

  # Broadcasted to players inside gift.whitelisted_worlds
  # Placeholders: {sender_name} {target_name} {rank_display} {ranks_gifted_total} {sender_prefix} {target_prefix}
  broadcast:
    gift_request: "&b{sender_prefix} {sender_name} &7wants to gift &b{rank_display} &7to &b{target_name}&7!"
    gift_accepted: "&4&ke&c&ke&e&ke&r &b{sender_name} &egifted the {rank_display} Rank &eto {target_name}&6! &4&ke&c&ke&e&ke&r"
    gift_accepted_stats: "&eThey have gifted &6{ranks_gifted_total} &eranks so far!"

  gui:
    confirm_title: "&8Confirm Gift"
    confirm_lore:
      - "&7Gift: {rank_display}"
      - "&7Cost: &e{cost} {currency}"
      - ""
      - "&eClick to confirm"

# ========================================
# GUIS
# Materials are 1.8.8-safe. PLAYER_HEAD is also accepted and auto-mapped.
# Actions: open_gui, select_rank, confirm_accept, confirm_deny, run_command, close, none
# ========================================
guis:
  main:
    title: "&8Send a Gift"
    size: 36
    items:
      present:
        slot: 13
        material: SKULL_ITEM
        data: 3
        texture: "eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMWI2NzMwZGU3ZTViOTQxZWZjNmU4Y2JhZjU3NTVmOTQyMWEyMGRlODcxNzU5NjgyY2Q4ODhjYzRhODEyODIifX19"
        display-name: "&aGift a Rank"
        lore:
          - "&7Gift a rank to &b{target_name}&7."
          - ""
          - "&eClick to gift!"
        action: open_gui
        opens: rank_select
      close:
        slot: 31
        material: BARRIER
        display-name: "&cClose"
        action: close

  rank_select:
    title: "&8Select a Gift"
    size: 54
    items:
      player_head:
        slot: 13
        material: SKULL_ITEM
        data: 3
        skull: "{target_name}"
        display-name: "&b{target_name}"
        lore:
          - "&7You are sending a gift to this player."
        action: none

      vip:
        slot: 27
        material: EMERALD
        display-name: "&aVIP Rank"
        lore:
          - "&7VIP Rank Provides Basic perks which"
          - "&7Improve The Farepixel experience!"
          - ""
          - "&a✓ &7Chat Prefix: &a[VIP]"
          - "&a✓ &7Name Color: &aGREEN"
          - "&a✓ &790+ Exclusive Cosmetics"
          - "&a✓ &7Game Replays"
          - "&a✓ &7Housing Mailbox"
          - "&a✓ &7/fw Command"
          - "&a✓ &7[Website] Avatar Frame"
          - "&7and more..."
          - ""
          - "&eClick the book below to view more"
          - "&eperks!"
          - ""
          - "&aCost: &c&m699 Gold&a {cost} Gold"
          - "&8 25% OFF SALE"
          - ""
          - "&eClick to purchase."
        action: select_rank
        rank: vip
        cost: 499

      vipplus:
        slot: 29
        material: EMERALD
        display-name: "&aVIP&6+ &aRank"
        lore:
          - "&7VIP+ contains every perks from VIP"
          - "&7and then more!"
          - ""
          - "&a✓ &7Chat Prefix: &a[VIP&6+&a]"
          - "&a✓ &7Name Color: &aGREEN"
          - "&a✓ &7180+ Exclusive Cosmetics"
          - "&a✓ &7Create Guilds"
          - "&a✓ &7Baby Wild Ocelot Pet"
          - "&a✓ &7Game Replays"
          - "&a✓ &7Housing Mailbox"
          - "&7and more..."
          - ""
          - "&eClick the book below to view more"
          - "&eperks!"
          - ""
          - "&aCost: &c&m1,499 Gold&a 699 Gold"
          - "&8 25% OFF SALE"
          - ""
          - "&eClick to purchase."
        action: select_rank
        rank: vipplus
        cost: 699
        enchanted: true

      mvp:
        slot: 31
        material: DIAMOND
        display-name: "&bMVP Rank"
        lore:
          - "&7MVP contains every perks from VIP"
          - "&7and VIP+, and then more!"
          - ""
          - "&a✓ &7Chat Prefix: &b[MVP]"
          - "&a✓ &7Name Color: &bAQUA"
          - "&a✓ &7200+ Exclusive Cosmetics"
          - "&a✓ &7Create Guilds"
          - "&a✓ &7Baby Wild Ocelot Pet"
          - "&a✓ &7Game Replays"
          - "&a✓ &7Housing Mailbox"
          - "&7and more..."
          - ""
          - "&eClick the book below to view more"
          - "&eperks!"
          - ""
          - "&aCost: &c&m2,999 Gold&a 1,710 Gold"
          - "&8 25% OFF SALE"
          - ""
          - "&eClick to purchase."
        action: select_rank
        rank: mvp
        cost: 1710

      mvpplus:
        slot: 33
        material: DIAMOND
        display-name: "&bMVP&c+ &bRank"
        lore:
          - "&7MVP+ contains every perks from VIP"
          - "&7VIP+, and MVP, and then more!"
          - ""
          - "&a✓ &7Chat Prefix: &b[MVP&c+&b]"
          - "&a✓ &7Name Color: &bAQUA"
          - "&a✓ &7220+ Exclusive Cosmetics"
          - "&a✓ &7Map Selectors"
          - "&a✓ &7Achievement Tracking"
          - "&a✓ &7Exclusive Particle Packs"
          - "&a✓ &7Ride and Control Lobby Pets"
          - "&7and more..."
          - ""
          - "&eClick the book below to view more"
          - "&eperks!"
          - ""
          - "&aCost: &c&m4,499 Gold&a 2,780 Gold"
          - "&8 25% OFF SALE"
          - ""
          - "&eClick to purchase."
        action: select_rank
        rank: mvpplus
        cost: 2780
        enchanted: true

      mvpplusplus:
        slot: 35
        material: GOLD_INGOT
        display-name: "&6MVP&c++"
        lore:
          - "&7MVP++ is an exclusive Rank Upgrade"
          - "&7to your existing MVP+ Rank. MVP++"
          - "&7allows access to some very useful"
          - "&7commands and is the best way to"
          - "&7support the Farepixel Server."
          - "&7Purshaced days will accumulate: If"
          - "&7you buy 30 days, then 90 days, you"
          - "&7would  have a total of 120 days"
          - "&eClick to browse perks and durations"
        action: open_gui
        opens:
        enchanted: true

      back:
        slot: 48
        material: ARROW
        display-name: "&aGo Back"
        action: open_gui
        opens: main

      close:
        slot: 49
        material: BARRIER
        display-name: "&cClose"
        action: close

      currency:
        slot: 53
        material: GOLD_NUGGET
        display-name: "&e{currency}: &6%farepixel_gold_commas%"
        lore:
          - "&7The Gold Wallet contains currency"
          - "&7you can use this menu to"
          - "&7purshace items. You can purshace"
          - "&7currency for your Gold Wallet at"
          - "&ahttps://store.farepixel.fun"
        action: run_command
        as: PLAYER
        commands:
          - "ibooks open store"

  mvpplusplus_durations:
    title: "&8MVP++ Durations"
    size: 54
    items:
      player_head:
        slot: 13
        material: SKULL_ITEM
        data: 3
        skull: "{target_name}"
        display-name: "&b{target_name}"
        lore:
          - "&7You are sending a gift to this player!"
        action: none

      one_month:
        slot: 28
        material: GOLD_INGOT
        enchanted: true
        display-name: "&61 Month MVP++"
        lore:
          - "&7Cost: &e{cost} {currency}"
        action: select_rank
        rank: mvpplusplus
        cost: 500
        duration: 30d

      six_months:
        slot: 31
        material: GOLD_INGOT
        enchanted: true
        display-name: "&66 Months MVP++"
        lore:
          - "&7Cost: &e{cost} {currency}"
        action: select_rank
        rank: mvpplusplus
        cost: 2500
        duration: 180d

      one_year:
        slot: 34
        material: GOLD_INGOT
        enchanted: true
        display-name: "&61 Year MVP++"
        lore:
          - "&7Cost: &e{cost} {currency}"
        action: select_rank
        rank: mvpplusplus
        cost: 5000
        duration: 1y

      back:
        slot: 48
        material: ARROW
        display-name: "&aGo Back"
        action: open_gui
        opens: rank_select
      close:
        slot: 49
        material: BARRIER
        display-name: "&cClose"
        action: close

      currency:
        slot: 53
        material: GOLD_NUGGET
        display-name: "&e{currency}: &6{balance}"
        action: run_command
        as: PLAYER
        commands:
          - "ibooks open store"

  confirm:
    title: "&8Confirm Gift"
    size: 27
    items:
      accept:
        slot: 11
        material: STAINED_CLAY
        data: 13
        display-name: "&aConfirm Gift"
        action: confirm_accept
      deny:
        slot: 15
        material: STAINED_CLAY
        data: 14
        display-name: "&cCancel Gift"
        action: confirm_deny
